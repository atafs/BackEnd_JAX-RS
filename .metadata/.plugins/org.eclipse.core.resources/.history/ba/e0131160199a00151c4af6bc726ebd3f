package org.americo.lib.my3Messenger.resources;

import java.util.List;

import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.PathParam;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;

import org.americo.lib.my3Messenger.model.Message;
import org.americo.lib.my3Messenger.service.MessageService;

@Path("/messages")
public class MessageResource {
	
	//ATTRIBUTES
	MessageService messageService = new MessageService();
	
	@GET
	@Path("/start")
	@Produces(MediaType.TEXT_PLAIN)
	public String get1Start() {
		String toReturn = "Hello World of JAX-RS (navegate throw thw API)\n";
		toReturn += "//##################################################\n";
		toReturn += "\n";
		toReturn += "//START\n";
		toReturn += "<a href=\"localhost:8085/my3Messenger/americo/messages/start\">Visit W3Schools</a>";
		toReturn += "localhost:8085/my3Messenger/americo/messages/start\n";
		toReturn += "localhost:8085/my3Messenger/americo/messages/test\n";
		toReturn += "localhost:8085/my3Messenger/americo/messages/test/1\n";
		toReturn += "\n";
		toReturn += "//GET ALL ARRAYLIST\n";
		toReturn += "localhost:8085/my3Messenger/americo/messages/array\n";
		toReturn +=	"localhost:8085/my3Messenger/americo/messages/array/json\n";	
		toReturn += "//GET ALL ARRAYLIST";
		toReturn += "localhost:8085/my3Messenger/americo/messages/array";
		toReturn += "localhost:8085/my3Messenger/americo/messages/array/json";
		toReturn += "";
		toReturn += "//GET ALL MAPLIST";
		toReturn += "localhost:8085/my3Messenger/americo/messages/";				
		toReturn += "localhost:8085/my3Messenger/americo/messages/map/json";
		toReturn += "";
		toReturn += "//GET MESSAGE";
		toReturn += "localhost:8085/my3Messenger/americo/messages/1";
		toReturn += "localhost:8085/my3Messenger/americo/messages/2";
		
		//RETURN STRING
		return toReturn;
	}
	
	@GET
	@Path("/test")
	@Produces(MediaType.TEXT_PLAIN)
	public String get1Test() {
		return "testing my path... SUCCESS!!";
	}
	
	@GET
	@Path("/test/{messageId}")
	@Produces(MediaType.TEXT_PLAIN)
	public String get2Test(@PathParam("messageId") String messageId) {
		return messageId + " = testing variable element... SUCCESS!!";
	}
	
	@GET
	@Path("/array")
	@Produces(MediaType.APPLICATION_XML)
	public List<Message> getAllMessage_array() {
		return messageService.getAllMessages_array();
	}
	
	@GET
	@Path("/map")
	@Produces(MediaType.APPLICATION_XML)
	public List<Message> getAllMessages_map() {
		return messageService.getAllMessages_map();
	}
	
	@GET
	@Path("/array/json")
	@Produces(MediaType.APPLICATION_JSON)
	public List<Message> getAllMessage_array_json() {
		return messageService.getAllMessages_array();
	}
	
	@GET
	@Path("/map/json")
	@Produces(MediaType.APPLICATION_JSON)
	public List<Message> getAllMessages_map_json() {
		return messageService.getAllMessages_map();
	}
	
	@GET
	@Path("/{messageId}")
	@Produces(MediaType.APPLICATION_XML)
	public Message getMessage(@PathParam("messageId") long messageId) {
		return messageService.getMessage(messageId);
	}
	

	


}
